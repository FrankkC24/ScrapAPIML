{"version":3,"file":"login.js","sourceRoot":"","sources":["../../src/modules/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAyB;AAIlB,MAAM,cAAc,GAAG,KAAK,EAAE,IAAoB,EAAiB,EAAE;IAE1E,MAAM,QAAQ,GAAc,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,+BAA+B,EAAE,OAAO,CAAC,CAAC,CAAC;IAElG,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,IAAI,CAAC,oCAAoC,EAAE,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAExG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAChB,IAAI,CAAC,eAAe,CAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;aAC1E,CAAC,CAAC;YAEH,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;YACrD,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;YAErD,MAAM,OAAO,CAAC,GAAG,CAAC;gBAChB,IAAI,CAAC,iBAAiB,CAAC,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;gBACxE,IAAI,CAAC,KAAK,CAAC,iCAAiC,CAAC;aAC9C,CAAC,CAAC;YAEH,OAAO;QACT,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YACpB,OAAO,CAAC,KAAK,CAAC,+CAA+C,OAAO,CAAC,QAAQ,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACrG,CAAC;IACH,CAAC;IAED,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;AACrE,CAAC,CAAC;AA3BW,QAAA,cAAc,kBA2BzB","sourcesContent":["import * as fs from 'fs';\r\nimport * as puppeteer from 'puppeteer';\r\nimport { Account } from '../types/accounts';\r\n\r\nexport const loginToSpotify = async (page: puppeteer.Page): Promise<void> => {\r\n\r\n  const accounts: Account[] = JSON.parse(fs.readFileSync('./dist/accounts/accounts.json', 'utf-8'));\r\n\r\n  for (const account of accounts) {\r\n    try {\r\n      await page.goto('https://accounts.spotify.com/login', { waitUntil: 'domcontentloaded', timeout: 3000 });\r\n\r\n      await Promise.all([\r\n        page.waitForSelector('#login-username', { visible: false, timeout: 500 }),\r\n      ]);\r\n\r\n      await page.type('#login-username', account.username);\r\n      await page.type('#login-password', account.password);\r\n\r\n      await Promise.all([\r\n        page.waitForNavigation({ waitUntil: 'domcontentloaded', timeout: 3000 }),\r\n        page.click('.ButtonFocus-sc-2hq6ey-0.csWrjt'),\r\n      ]);\r\n\r\n      return;\r\n    } catch (error: any) {\r\n      console.error(`Error en el inicio de sesión para la cuenta ${account.username}: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  throw new Error('Ninguna cuenta pudo iniciar sesión exitosamente');\r\n};\r\n"]}