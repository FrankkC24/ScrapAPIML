{"version":3,"file":"login.js","sourceRoot":"","sources":["../../src/modules/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,oCAAiC;AACjC,uCAAyB;AAGlB,MAAM,cAAc,GAAG,KAAK,EAAE,IAAoB,EAAiB,EAAE;IAE1E,MAAM,QAAQ,GAAc,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,+BAA+B,EAAE,OAAO,CAAC,CAAC,CAAC;IAClG,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,IAAI,CAAC,oCAAoC,EAAE,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YACxG,MAAM,IAAI,CAAC,eAAe,CAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;YAEhF,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;YACrD,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;YAErD,MAAM,IAAA,aAAK,EAAC,IAAI,CAAC,CAAC;YAClB,MAAM,IAAI,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;YAEpD,MAAM,IAAI,CAAC,iBAAiB,CAAC,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAE/E,OAAO;QACT,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YACpB,OAAO,CAAC,KAAK,CAAC,+CAA+C,OAAO,CAAC,QAAQ,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACrG,CAAC;QAAA,CAAC;IACJ,CAAC;IAAA,CAAC;IAEF,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;AACrE,CAAC,CAAC;AAvBW,QAAA,cAAc,kBAuBzB","sourcesContent":["import * as puppeteer from 'puppeteer';\r\nimport { delay } from '../utils';\r\nimport * as fs from 'fs';\r\nimport { Account } from '../types/accounts';\r\n\r\nexport const loginToSpotify = async (page: puppeteer.Page): Promise<void> => {\r\n\r\n  const accounts: Account[] = JSON.parse(fs.readFileSync('./dist/accounts/accounts.json', 'utf-8'));\r\n  for (const account of accounts) {\r\n    try {\r\n      await page.goto('https://accounts.spotify.com/login', { waitUntil: 'domcontentloaded', timeout: 3000 });\r\n      await page.waitForSelector('#login-username', { visible: false, timeout: 500 });\r\n\r\n      await page.type('#login-username', account.username);\r\n      await page.type('#login-password', account.password);\r\n\r\n      await delay(1000);\r\n      await page.click('.ButtonFocus-sc-2hq6ey-0.csWrjt');\r\n\r\n      await page.waitForNavigation({ waitUntil: 'domcontentloaded', timeout: 3000 });\r\n\r\n      return;\r\n    } catch (error: any) {\r\n      console.error(`Error en el inicio de sesión para la cuenta ${account.username}: ${error.message}`);\r\n    };\r\n  };\r\n\r\n  throw new Error('Ninguna cuenta pudo iniciar sesión exitosamente');\r\n};\r\n"]}